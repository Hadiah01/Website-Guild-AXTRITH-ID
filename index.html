<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AXTRITH-ID â€” Guild Free Fire</title>
  <style>
    :root{--bg:#0b1020;--card:#0f1724;--accent:#6ee7b7;--muted:#94a3b8}
    *{box-sizing:border-box;font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial}
    body{margin:0;background:linear-gradient(180deg,#071028 0%, #07121a 60%);color:#e6eef6}
    header{padding:24px;display:flex;align-items:center;justify-content:space-between}
    .brand{display:flex;gap:12px;align-items:center}
    .logo img{width:56px;height:56px;border-radius:12px;object-fit:cover}
    nav a{color:var(--muted);text-decoration:none;margin-left:14px}
    .container{max-width:1100px;margin:18px auto;padding:18px}.hero{display:grid;grid-template-columns:1fr 360px;gap:18px;align-items:start}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:18px;border-radius:12px;box-shadow:0 6px 18px rgba(2,6,23,0.6)}
    h1{margin:0;font-size:26px}
    p.lead{color:var(--muted);margin-top:6px}
    .rules li{margin:8px 0}
    .members-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:12px;margin-top:12px}
    .member{
      background:rgba(255,255,255,0.02);
      padding:12px;
      border-radius:10px;
      text-align:center;
      display:flex;
      flex-direction:column;
      gap:6px;
      align-items:center;
      min-height:180px;
    }
    .member img{
      width:88px;
      height:88px;
      object-fit:cover;
      border-radius:50%;
      margin:0;
      box-shadow:0 4px 12px rgba(2,6,23,0.5);
      border:2px solid rgba(255,255,255,0.03);
    }
    .member .name{font-weight:700;margin-top:4px}
    .member .role{font-size:13px;color:var(--muted)}
    .member .meta{font-size:13px;color:var(--muted)}
    .member .moto{font-size:13px;color:var(--muted);font-style:italic;margin-top:6px}
    label{display:block;font-size:13px;color:var(--muted);margin-top:8px}
    input[type=text],select,textarea,input[type=file]{width:100%;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit}
    .row{display:flex;gap:8px}
    .btn{display:inline-block;padding:10px 12px;border-radius:10px;border:0;background:var(--accent);color:#04201a;font-weight:700;cursor:pointer}
    .ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)}
    footer{margin-top:18px;padding:18px;text-align:center;color:var(--muted)}
    @media(max-width:900px){.hero{grid-template-columns:1fr}.logo img{width:48px;height:48px}}
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <div class="logo"><img src="ATR.jpg" alt="Logo AXTRITH-ID"></div>
      <div>
        <div style="font-weight:800">AXTRITH-ID</div>
        <div style="font-size:13px;color:var(--muted)">Guild Free Fire</div>
      </div>
    </div>
    <nav>
      <a href="#home">Home</a>
      <a href="#rules">Peraturan</a>
      <a href="#members">Member</a>
      <a href="#join">Gabung</a>
    </nav>
  </header>  

  <main class="container">
    <!-- HERO -->
    <section class="hero">
      <div class="card" id="home">
        <h1>Selamat datang di Guild AXTRITH-ID</h1>
        <p class="lead">Guild Free Fire untuk mabar bareng, push rank, dan jadi komunitas solid. Baca peraturan sebelum gabung â€” respect dan sportivitas nomor 1.</p>
        <div style="margin-top:16px;display:flex;gap:8px;flex-wrap:wrap">
          <button class="btn" onclick="scrollToSection('join')">Gabung Sekarang</button>
          <button class="btn ghost" onclick="copyInvite()">Salin Template Invite</button>
          <button class="btn ghost" onclick="exportMembers()">Unduh Daftar Member</button>
        </div>
      </div>
      <aside class="card">
        <h3 style="margin-top:0">Quick Info</h3>
        <p class="lead">Leader: <strong>Má´€sLá´€á´›á´‡xã€¡ATR</strong><br>WA Admin: <strong>083824063521</strong></p>
        <div style="margin-top:12px">
          <strong>Jam Mabar</strong>
          <p class="lead">Setiap Hari</p>
        </div>
      </aside>
    </section>

    <!-- RULES -->
    <section class="card" id="rules" style="margin-top:16px">
      <h2>Peraturan Guild</h2>
      <ol class="rules">
        <li>Wajib mabar se guild setiap hari.</li>
        <li>Poin mingguan minimal <strong>600</strong>. Jika berada di bawah 600 setelah 2 minggu akan diberikan peringatan; 3 minggu berturut-turut akan di-mix atau diberi sanksi.</li>
        <li>Wajib ikut push guild wars (poin minimal: cowo 80,cwe 60)</li>
        <li>Good attitude â€”toxic sewajarnya, saling menghormati.</li>
        <li>Wajib masuk grup WhatsApp ketika diterima.</li>
        <li>Ganti background FF sesuai kebijakan guild jika diminta.</li>
      </ol>
    </section>

    <!-- MEMBERS -->
    <section class="card" id="members" style="margin-top:16px">
      <h2>Member</h2>
      <div style="display:flex;gap:12px;flex-wrap:wrap;margin-top:12px">
        <div style="flex:1;min-width:260px">
          <label for="m_name">Nama</label>
          <input id="m_name" type="text" placeholder="Nama">

          <label for="m_ffid">ID Akun FF</label>
          <input id="m_ffid" type="text" placeholder="ID Free Fire">

          <label for="m_age">Umur</label>
          <input id="m_age" type="text" placeholder="Umur">

          <label for="m_role">Role</label>
          <select id="m_role">
            <option>Member</option>
            <option>Officer</option>
            <option>Co Leader</option>
            <option>Leader</option>
          </select>

          <label for="m_skill">Keahlian</label>
          <select id="m_skill">
            <option>Rusher</option>
            <option>Sniper</option>
            <option>Rifler</option>
            <option>Support</option>
            <option>Bomber</option>
          </select>

          <label for="m_moto">Moto</label>
          <input id="m_moto" type="text" placeholder="Moto hidup / semboyan">

          <label for="m_photo">Foto (Wajib)</label>
          <input id="m_photo" type="file" accept="image/*">

          <div style="margin-top:10px" class="row">
            <button class="btn" onclick="addMember()">Tambah</button>
            <button class="btn ghost" onclick="undoMember()">Undo</button>
          </div>
        </div>
        <div style="flex:1;min-width:260px">
          <label>Template Perkenalan (Bisa disalin)</label>
          <textarea id="intro_template" rows="7">Perkenalkan, nama saya [Nama].
Saya player Free Fire.
ID: [ID Akun]. Umur: [Umur] tahun.
Role: [Role]. Keahlian: [Keahlian].
Moto: [Moto].
Salam dari AXTRITH-ID!</textarea>
          <div style="margin-top:8px"><button class="btn" onclick="copyIntro()">Salin Template</button></div>
        </div>
      </div>
      <div class="members-grid" id="membersGrid" style="margin-top:12px"></div>
    </section>

    <!-- JOIN -->
    <section class="card" id="join" style="margin-top:16px">
      <h2>Form Gabung</h2>
      <label for="join_name">Nama</label>
      <input id="join_name" type="text">
      <label for="join_ffname">Nama Akun FF</label>
      <input id="join_ffname" type="text">
      <label for="join_ffid">ID FF</label>
      <input id="join_ffid" type="text">
      <label for="join_age">Umur</label>
      <input id="join_age" type="text">
      <label for="join_note">Catatan</label>
      <input id="join_note" type="text">
      <div style="margin-top:10px" class="row">
        <button class="btn" onclick="sendJoin()">Kirim ke WA</button>
        <button class="btn ghost" onclick="clearJoin()">Bersihkan</button>
      </div>
    </section>

    <footer>
      Â© AXTRITH-ID â€¢ Guild Free Fire
    </footer>
  </main>  

  <script>
    const SHEET_URL="https://script.google.com/macros/s/AKfycbwcA31K5BvW67xENyHKgvMfePW_VU_CU7c7PR9zNO2JbJx9C7kBndWs-MJWbfr9dS7K/exec";
    const membersKey='axtrith_members_ff'
    let members=JSON.parse(localStorage.getItem(membersKey)||'[]')
    let undoStack=[]

    function saveMembers(){localStorage.setItem(membersKey,JSON.stringify(members))}
    function renderMembers(){
      const grid=document.getElementById('membersGrid')
      grid.innerHTML=''
      members.forEach((m,idx)=>{
        const el=document.createElement('div')
        el.className='member'
        el.innerHTML=`
          <img src="${m.photo}" alt="foto">
          <div class='name'>${m.name}</div>
          <div class='role'>${m.role}</div>
          <div class='meta'>ID: ${m.ffid}</div>
          <div class='meta'>Umur: ${m.age}</div>
          <div class='meta'>Keahlian: ${m.skill}</div>
          <div class='moto'>Moto: "${m.moto||'-'}"</div>
          <div style='margin-top:8px'><button class='btn ghost' onclick='removeMember(${idx})'>Hapus</button></div>`
        grid.appendChild(el)
      })
    }
    function addMember(){
      const name=document.getElementById('m_name').value.trim()
      const ffid=document.getElementById('m_ffid').value.trim()
      const age=document.getElementById('m_age').value.trim()
      const role=document.getElementById('m_role').value
      const skill=document.getElementById('m_skill').value
      const moto=document.getElementById('m_moto').value.trim()
      const photoInput=document.getElementById('m_photo')
      if(!name||!ffid||!age){alert('Isi semua data dulu ya');return}
      if(photoInput.files.length===0){alert('Wajib upload foto!');return}
      const reader=new FileReader()
      reader.onload=function(e){
        const photo=e.target.result
        const newMember={name,ffid,age,role,skill,moto,photo,joined:new Date().toISOString()}
        members.push(newMember)
        saveMembers(); renderMembers();

        // ðŸ”½ kirim ke Google Sheets
        fetch(SHEET_URL,{
          method:"POST",
          body:JSON.stringify(newMember),
          headers:{"Content-Type":"application/json"}
        }).then(r=>r.text()).then(res=>console.log("Sheet:",res)).catch(err=>console.error(err))

        document.getElementById('m_name').value=''
        document.getElementById('m_ffid').value=''
        document.getElementById('m_age').value=''
        document.getElementById('m_moto').value=''
        document.getElementById('m_photo').value=''
      }
      reader.readAsDataURL(photoInput.files[0])
    }
    function removeMember(i){undoStack.push(members[i]);members.splice(i,1);saveMembers();renderMembers()}
    function undoMember(){if(undoStack.length===0){alert('Tidak ada item untuk di-undo');return}members.push(undoStack.pop());saveMembers();renderMembers()}
    function copyIntro(){navigator.clipboard.writeText(document.getElementById('intro_template').value).then(()=>alert('Template disalin'))}
    function copyInvite(){navigator.clipboard.writeText("Halo, saya ingin bergabung ke guild AXTRITH-ID (Free Fire). Nama: [Nama] - Siap ikut peraturan guild.").then(()=>alert('Template invite disalin'))}
    function exportMembers(){
      const csv=['Nama,Role,ID,Umur,Keahlian,Moto,Joined',...members.map(m=>`${m.name},${m.role},${m.ffid},${m.age},${m.skill},${m.moto},${m.joined}`)].join('\n')
      const blob=new Blob([csv],{type:'text/csv'})
      const url=URL.createObjectURL(blob)
      const a=document.createElement('a')
      a.href=url;a.download='axtrith_ff_members.csv';a.click();a.remove();URL.revokeObjectURL(url)
    }

    const adminPhone='6283824063521'
    function sendJoin(){
      const name=document.getElementById('join_name').value.trim()
      const ffname=document.getElementById('join_ffname').value.trim()
      const ffid=document.getElementById('join_ffid').value.trim()
      const age=document.getElementById('join_age').value.trim()
      const note=document.getElementById('join_note').value.trim()
      if(!name||!ffname||!ffid||!age){alert('Isi semua data dulu ya');return}

      // ðŸ”½ Kirim ke WhatsApp
      const text=`Permohonan Gabung%0A`+
                 `Nama: ${encodeURIComponent(name)}%0A`+
                 `Nama FF: ${encodeURIComponent(ffname)}%0A`+
                 `ID FF: ${encodeURIComponent(ffid)}%0A`+
                 `Umur: ${encodeURIComponent(age)}%0A`+
                 `Note: ${encodeURIComponent(note)}%0A`
      window.open(`https://wa.me/${adminPhone}?text=${text}`,'_blank')

      // ðŸ”½ Kirim ke Google Sheets juga
      fetch(SHEET_URL,{
        method:"POST",
        body:JSON.stringify({name,ffname,ffid,age,note,from:"JoinForm"}),
        headers:{"Content-Type":"application/json"}
      }).then(r=>r.text()).then(res=>console.log("Join Sheet:",res)).catch(err=>console.error(err))
    }
    function clearJoin(){
      document.getElementById('join_name').value=''
      document.getElementById('join_ffname').value=''
      document.getElementById('join_ffid').value=''
      document.getElementById('join_age').value=''
      document.getElementById('join_note').value=''
    }

    renderMembers()
    function scrollToSection(id){document.getElementById(id).scrollIntoView({behavior:'smooth'})}
  </script>
</body>
</html>